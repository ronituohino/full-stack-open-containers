{"version":3,"sources":["Notification.jsx","Phonebook.jsx","Add.jsx","Numbers.jsx","services/persons.js","App.jsx","index.jsx"],"names":["Notification","notification","notificationStyle","color","error","background","fontSize","borderStyle","borderRadius","padding","marginBottom","message","style","Phonebook","props","onChange","handleFilterChange","Add","onSubmit","addNewName","id","value","newName","handleNameChange","number","newNumber","handleNumberChange","type","Person","person","name","onClick","deleteCallback","Numbers","persons","filter","map","toLowerCase","includes","baseUrl","exportedObject","all","axios","get","then","response","data","create","post","del","delete","replace","newPerson","put","deleteAll","App","useState","setPersons","setFilter","setNewName","setNewNumber","setNotification","useEffect","numbersService","result","showNotification","setTimeout","event","target","preventDefault","existing","find","p","window","confirm","catch","addedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7c0bdd6a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Notification = ({ notification }) => {\r\n  const notificationStyle = {\r\n    color: notification.error ? 'red' : 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n  }\r\n\r\n  if (notification.message === '') {\r\n    return ''\r\n  } else {\r\n    return <div style={notificationStyle}>{notification.message}</div>\r\n  }\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Phonebook = (props) => {\r\n  return (\r\n    <>\r\n      <h2>Phonebook</h2>\r\n      <p>\r\n        filter shown with\r\n        <input onChange={props.handleFilterChange} />\r\n      </p>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Phonebook\r\n","import React from 'react'\r\n\r\nconst Add = (props) => {\r\n  return (\r\n    <>\r\n      <h2>add a new</h2>\r\n      <form onSubmit={props.addNewName}>\r\n        <div>\r\n          name:{' '}\r\n          <input id='name' value={props.newName} onChange={props.handleNameChange} />\r\n        </div>\r\n\r\n        <div>\r\n          number:{' '}\r\n          <input id='number' number={props.newNumber} onChange={props.handleNumberChange} />\r\n        </div>\r\n\r\n        <div>\r\n          <button id='add_button' type='submit'>add</button>\r\n        </div>\r\n      </form>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Add\r\n","import React from 'react'\r\n\r\nconst Numbers = ({ persons, filter, deleteCallback }) => {\r\n  return (\r\n    <>\r\n      <h2>Numbers</h2>\r\n      {persons.map((person) =>\r\n        filter === '' ? (\r\n          <Person\r\n            key={person.name}\r\n            person={person}\r\n            deleteCallback={deleteCallback}\r\n          />\r\n        ) : person.name.toLowerCase().includes(filter.toLowerCase()) ? (\r\n          <Person\r\n            key={person.name}\r\n            person={person}\r\n            deleteCallback={deleteCallback}\r\n          />\r\n        ) : (\r\n          ''\r\n        )\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst Person = (props) => {\r\n  return (\r\n    <p>\r\n      {props.person.name} {props.person.number}\r\n      <button onClick={() => props.deleteCallback(props.person)}>delete</button>\r\n    </p>\r\n  )\r\n}\r\n\r\nexport default Numbers\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst all = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst create = (newNumber) => {\r\n  const request = axios.post(baseUrl, newNumber)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst del = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst replace = (id, newPerson) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst deleteAll = () => {\r\n  const request = axios.delete(`${baseUrl}`)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst exportedObject = {\r\n  all,\r\n  create,\r\n  del,\r\n  replace,\r\n  deleteAll\r\n}\r\n\r\nexport default exportedObject\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport Notification from './Notification'\r\nimport Phonebook from './Phonebook'\r\nimport Add from './Add'\r\nimport Numbers from './Numbers'\r\n\r\nimport numbersService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n\r\n  const [filter, setFilter] = useState('')\r\n  const [newName, setNewName] = useState('')\r\n  const [newNumber, setNewNumber] = useState('')\r\n\r\n  const [notification, setNotification] = useState({\r\n    message: '',\r\n    error: false,\r\n  })\r\n\r\n  // Fetch persons data from db.json with axios\r\n  useEffect(() => {\r\n    numbersService.all().then((result) => setPersons(result))\r\n  }, [])\r\n\r\n  const addNewPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    const existing = persons.find((p) => p.name === newName)\r\n\r\n    // Check if person is already in numbers\r\n    if (typeof existing !== 'undefined') {\r\n      // Ask if we replace the contact number\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, \r\n        replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        numbersService\r\n          .replace(existing.id, newPerson)\r\n          .then((data) => {\r\n            setPersons(persons.map((p) => (p.id === data.id ? data : p)))\r\n\r\n            showNotification(\r\n              `Replaced ${newName}'s number with ${newNumber}`,\r\n              false\r\n            )\r\n          })\r\n          .catch((error) => {\r\n            showNotification(\r\n              `Information of ${newName} has already been removed from server`,\r\n              true\r\n            )\r\n          })\r\n      }\r\n    } else {\r\n      // If not, create new person\r\n      numbersService\r\n        .create(newPerson)\r\n        .then((addedPerson) => {\r\n          setPersons(persons.concat(addedPerson))\r\n\r\n          showNotification(`Added ${newPerson.name}`, false)\r\n        })\r\n        .catch((error) => {\r\n          showNotification(error.response.data.error, true)\r\n        })\r\n    }\r\n  }\r\n\r\n  const deleteExistingNumber = (person) => {\r\n    if (window.confirm(`Delete ${person.name} ?`)) {\r\n      numbersService\r\n        .del(person.id)\r\n        .then((data) => {\r\n          setPersons(persons.filter((p) => p.id !== person.id))\r\n\r\n          showNotification(`Removed ${person.name}`, false)\r\n        })\r\n        .catch((error) => {\r\n          showNotification(error.response.data.error, true)\r\n        })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {string} message The message to display\r\n   * @param {Boolean} error Is this an error message?\r\n   */\r\n  const showNotification = (message, error) => {\r\n    setNotification({ message, error })\r\n    setTimeout(\r\n      () => {\r\n        setNotification({ message: '', error: false })\r\n      },\r\n      error ? 6000 : 3000\r\n    )\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Phonebook handleFilterChange={handleFilterChange} />\r\n\r\n      <Notification notification={notification} />\r\n\r\n      <Add\r\n        addNewName={addNewPerson}\r\n        newName={newName}\r\n        handleNameChange={handleNameChange}\r\n        newNumber={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n\r\n      <Numbers\r\n        persons={persons}\r\n        filter={filter}\r\n        deleteCallback={deleteExistingNumber}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)"],"sourceRoot":""}